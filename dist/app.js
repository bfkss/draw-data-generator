(function(){var t,e;e=function(){function t(t,e,n){var o,a;this.parent=null!=t?t:"body",this.width=null!=e?e:900,this.height=null!=n?n:810,o=this,this.frequency=100,this.data=[],this.latLngData=[],this.scagnosticsData={points:[]},a=d3.select(this.parent).append("svg").attr({width:this.width,height:this.height}).style("border","1px solid darkgray"),this.g=a.append("g"),a.on("mousemove",function(){return o.pos=d3.mouse(this),d3.event.shiftKey&&!this.interval?this.interval=setInterval(function(){return o.draw()},o.frequency):!d3.event.shiftKey&&this.interval?(clearInterval(this.interval),this.interval=null):void 0}),document.onkeypress=function(t){return function(e){return 32===e.which?(t.printPxData(),t.convertToLatLngData(),t.convertToGeoJSON(),t.convertToScagnosticsData()):void 0}}(this)}return t.prototype.draw=function(){return this.data.push(this.pos),this.g.selectAll("circle").data(this.data).enter().append("circle").attr({cx:function(t){return t[0]},cy:function(t){return t[1]},r:5,fill:"blue",opacity:.3,stroke:"darkblue"})},t.prototype.clear=function(){return this.data=[],this.g.selectAll("circle").data([]).exit().remove()},t.prototype.convertToLatLngData=function(){var t,e,n,o,a,i,s;for(a=this.data,e=0,n=a.length;n>e;e++)o=a[e],i=o[0],s=o[1],this.latLngData.push([Math.round10(-(s-this.height/2)*(180/this.height),-4),Math.round10((i-this.width/2)*(360/this.width),-4)]);return console.log("latLng-data output:"),console.log(this.latLngData),t=document.createElement("a"),t.download="latLng.json",t.textContent="lat-lng file",t.href="data:application/json;base64,"+window.btoa(unescape(encodeURIComponent(JSON.stringify(this.latLngData)))),document.body.appendChild(t),document.body.appendChild(document.createElement("br"))},t.prototype.convertToGeoJSON=function(){var t,e,n,o,a,i,s,d;for(this.geoJSON={type:"FeatureCollection",features:[]},i=this.data,n=0,o=i.length;o>n;n++)a=i[n],s=a[0],d=a[1],t={type:"Feature",geometry:{type:"Point",coordinates:[Math.round10((s-this.width/2)*(360/this.width),-4),Math.round10(-(d-this.height/2)*(180/this.height),-4)]}},this.geoJSON.features.push(t);return console.log("GeoJSON output:"),console.log(this.geoJSON),e=document.createElement("a"),e.download="geoJSON.json",e.textContent="GeoJSON file",e.href="data:application/json;base64,"+window.btoa(unescape(encodeURIComponent(JSON.stringify(this.geoJSON)))),document.body.appendChild(e),document.body.appendChild(document.createElement("br"))},t.prototype.convertToScagnosticsData=function(){var t,e,n,o,a,i,s;for(a=this.data,e=0,n=a.length;n>e;e++)o=a[e],i=o[0],s=o[1],this.scagnosticsData.points.push({x:i,y:s});return console.log("scagnostics-data output:"),console.log(this.scagnosticsData),t=document.createElement("a"),t.download="scagnosticsData.json",t.textContent="scagnostics-data file",t.href="data:application/json;base64,"+window.btoa(unescape(encodeURIComponent(JSON.stringify(this.scagnosticsData)))),document.body.appendChild(t),document.body.appendChild(document.createElement("br"))},t.prototype.printPxData=function(){var t;return console.log("pixel-data output:"),console.log(this.data),t=document.createElement("a"),t.download="pixelData.json",t.textContent="pixel-data file",t.href="data:application/json;base64,"+window.btoa(unescape(encodeURIComponent(JSON.stringify(this.data)))),document.body.appendChild(t),document.body.appendChild(document.createElement("br"))},t}(),t=new e("main",document.body.clientWidth,document.documentElement.clientHeight-22)}).call(this);
//# sourceMappingURL=./app.js.map